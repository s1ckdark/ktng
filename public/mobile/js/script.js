function initScrollMagic(){function e(e,t,a){var n,o=$(e);TweenMax.set(o,{perspective:400}),o.each(function(){var e=this;"up"==a?(TweenMax.set(o,{opacity:0,y:30}),n=TweenMax.to(e,.8,{opacity:1,y:"=-30"})):"down"==a?(TweenMax.set(o,{opacity:0,y:-30}),n=TweenMax.to(e,.8,{opacity:1,y:"=+30"})):"left"==a?(TweenMax.set(o,{opacity:0,x:-30}),n=TweenMax.to(e,.8,{opacity:1,x:"=+30"})):"right"==a&&(TweenMax.set(o,{opacity:0,x:30}),n=TweenMax.to(e,.8,{opacity:1,x:"=-30"}));new ScrollMagic.Scene({triggerElement:e,triggerHook:t}).setTween(n).reverse(!1).addTo(controller)})}function t(e,t,a){var n=$(e);TweenMax.set(n,{perspective:400}),n.each(function(){var e,n=this,o=new TimelineMax({paused:!0});if("zigzag"==a)e=new SplitText(n,{type:"lines"}),o.staggerFrom(e.lines,.5,{opacity:0,cycle:{x:[100,-100]}},.2);else if("words"==a)e=new SplitText(n,{type:"words"}),$(e.words).each(function(t,a){o.staggerFrom(e.words,.6,{opacity:0,force3D:!0},.01*t),o.staggerFrom(e.words,.6,{scale:t%2==0?0:2},.01*t)});else if("cwl"==a)e=new SplitText(n,{type:"chars, words, lines"}),o.staggerFrom(e.chars,.5,{autoAlpha:0,scale:4,force3D:!0},.01,.2);else if("twist"==a)e=new SplitText(n,{type:"chars, words"}),o.staggerFrom(e.chars,.6,{opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:Back.easeOut},.01,"+=0");else if("random"==a){e=new SplitText(n,{type:"chars, words"});for(var i=0;i<e.chars.length;i++)o.from(e.chars[i],2,{opacity:0},2*Math.random())}new ScrollMagic.Scene({triggerElement:n,triggerHook:t}).on("start",function(){o.play()}).reverse(!1).addTo(controller)})}function a(e){return e.toString().split(".")[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")}$("#roof").height();$(".video-play").each(function(){var e=$(this);e.find("video");new ScrollMagic.Scene({triggerElement:this,duration:e.height()}).on("enter leave",function(t){var a,n=e,o=n.find("video")[0],i=o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2;"enter"===t.type?a=setTimeout(function(){i||n.find(".play").click()},600):(a&&clearTimeout(a),i&&o.pause())}).addTo(controller)});var n=new TimelineMax({paused:!0});n.staggerTo(".intro-scroll",1.5,{opacity:.3,ease:Quad.easInOut,y:"+30",repeat:-1,delay:-1},.5),new ScrollMagic.Scene({triggerElement:$("#hero")[0],duration:$("#hero").height()}).on("enter leave",function(e){"enter"===e.type?n.play():n.pause()}).addTo(controller),TweenMax.set("#bg-hero .tween",{autoAlpha:0}),window.setTimeout(function(){TweenMax.set("#bg-hero .tween",{autoAlpha:1}),t("#bg-hero .tween",.5,"random")},2e3),e("#hero-sub .tween",.5,"up"),e("#hero-sub .heading-2",.5,"up"),TweenMax.set("#video-intro",{autoAlpha:0,x:"-100"}),TweenMax.set("#intro .text",{autoAlpha:0,x:"+100"}),TweenMax.set("#intro .col:nth-child(2)",{autoAlpha:0});var o=new TimelineMax({paused:!0}).to("#video-intro",.5,{autoAlpha:1,x:"=+100"}).to("#intro .col:nth-child(2)",.5,{autoAlpha:1}).to("#intro .text",.5,{autoAlpha:1,x:"=+100"});new ScrollMagic.Scene({triggerElement:"#intro",triggerHook:.6}).on("enter",function(){o.play()}).reverse(!1).addTo(controller);t("#intro .title",.6,"zigzag"),TweenMax.set(".type-ltr .interview-video",{autoAlpha:0,x:"-100"}),TweenMax.set(".type-rtl .interview-video",{autoAlpha:0,x:"+100"}),TweenMax.set(".bg-people",{autoAlpha:0,y:"+50"});var i=new TimelineMax({paused:!0}).to("#fighter .interview-video",.5,{autoAlpha:1,x:"=+100"}).to("#fighter .bg-people",1,{autoAlpha:1,y:"=-50"}),r=(new ScrollMagic.Scene({triggerElement:"#fighter",triggerHook:.6}).on("enter",function(){i.play()}).reverse(!0).addTo(controller),new TimelineMax({paused:!0}).to("#dancer .interview-video",.5,{autoAlpha:1,x:"=+100"}).to("#dancer .bg-people",1,{autoAlpha:1,y:"=-50"})),s=(new ScrollMagic.Scene({triggerElement:"#dancer",triggerHook:.6}).on("enter",function(){r.play()}).reverse(!0).addTo(controller),new TimelineMax({paused:!0}).to("#barista .interview-video",.5,{autoAlpha:1,x:"=+100"}).to("#barista .bg-people",1,{autoAlpha:1,y:"=-50"})),l=(new ScrollMagic.Scene({triggerElement:"#barista",triggerHook:.6}).on("enter",function(){s.play()}).reverse(!0).addTo(controller),new TimelineMax({paused:!0}).to("#professor .interview-video",.5,{autoAlpha:1,x:"=+100"}).to("#professor .bg-people",1,{autoAlpha:1,y:"=-50"}));new ScrollMagic.Scene({triggerElement:"#professor",triggerHook:.6}).on("enter",function(){l.play()}).reverse(!0).addTo(controller);e(".interview .sub-heading-2",.6,"up"),t(".interview .heading-2",.6,"zigzag"),t(".interview .heading-1",.6,"zigzag"),e(".interview-desc",.7,"up"),t("#localizing .heading-1",.6,"zigzag"),e("#localizing .text",.6,"left"),e("#localizing img",.6,"right"),TweenMax.set(["#sangsang-univ .icon","#sangsang-univ .icon icon-*","#sangsang-univ .text"],{autoAlpha:0,y:30}),TweenMax.set(["#sangsang-univ .col","#sangsang-univ .descText"],{autoAlpha:0}),t("#sangsang-univ .heading-1",.6,"cwl"),e("#sangsang-univ .sub-title",.6,"down");var c=new TimelineMax({paused:!0}).to("#sangsang-univ .col",.5,{autoAlpha:1,y:"=-30",onComplete:function(){g.play()}}),g=new TimelineMax({paused:!0});g.to("#sangsang-univ .icon",.5,{ease:Bounce.easeIn,autoAlpha:1,onComplete:function(){TweenMax.to("#sangsang-univ icon div",.5,{autoAlpha:0,ease:Bounce.easeInOut,y:"=+30"}),TweenMax.to("#sangsang-univ .descText",.5,{autoAlpha:1,y:"=+30"}),TweenMax.to("#sangsang-univ .bold",.5,{autoAlpha:1,y:"=+30"}),TweenMax.to("#sangsang-univ .text",.5,{autoAlpha:1,y:"=+30"}),TweenMax.from("#sangsang-univ path",1,{autoAlpha:0,drawSVG:"0%",fill:"none"}),TweenMax.from("#sangsang-univ circle",1,{delay:1,autoAlpha:0,drawSVG:"0%",fill:"none"}),TweenMax.from("#sangsang-univ text",1,{delay:1,autoAlpha:0,drawSVG:"0%"})}});new ScrollMagic.Scene({triggerElement:"#sangsang-univ .container",triggerHook:.6}).on("enter",function(){c.play()}).reverse(!0).addTo(controller);t("#curriculum .heading-1",.6),e("#curriculum .text",.6,"up"),t("#sangsang-madang .heading-1",.6,"cwl"),t("#sangsang-madang .text",.7,"twist"),e("#artist-1",.6,"left"),e("#artist-2",.6,"right"),e(".bg-circle",.6,"down");var d=$(".info-num"),p=new TimelineMax;d.each(function(){var e={var:0},t=$(this),n=t.data("count");p.to(e,2,{var:n,onUpdate:function(){var n=a(e.var);t.text(n)},ease:Expo.easOut},0)});new ScrollMagic.Scene({triggerElement:"#info .heading-1",triggerHook:.5}).setTween(p).reverse(!1).addTo(controller);e("#info .heading-1",.5,"up"),t("#contribute-timeline .heading-1",.6,"zigzag"),TweenMax.set(".card",{autoAlpha:0,y:-50});var u=new TimelineMax({paused:!0});$(".bar-chart .chart-bar").each(function(){var e=$(this),t=e.data("num");TweenMax.set(e,{height:t/6}),u.add(TweenMax.from(e,.2,{height:"0px",onComplete:function(){e.find("b").text(t)}}))});new ScrollMagic.Scene({triggerElement:".bar-chart",triggerHook:.6}).on("start",function(){u.play()}).reverse(!1).addTo(controller);$(".card").each(function(e){var t=this,a=new TimelineMax({paused:!0});a.to(t,.5,{autoAlpha:1,y:"=+50",ease:Bounce.easeInOut,zIndex:11});new ScrollMagic.Scene({triggerElement:t,triggerHook:.6}).on("start",function(){a.play()}).reverse(!1).addTo(controller)}),t("#contribute-destination .heading-1",.6,"zigzag"),e("#contribute-destination .text",.6,"up"),t("#more .text",.6,"zigzag"),e("#more .heading-3",.6,"right"),e("#more .heading-3",.6,"right"),e("#video-more",.6,"left"),e("#more .btn-1",.9,"down"),e("#more .btn-2",.9,"up")}$(function(){function e(){for(var e=$(window).width(),t=$(window).width(),a=[[0,0,190,100],[190,0,250,100],[440,0,200,250],[0,100,140,450],[140,100,300,300],[440,250,200,250],[0,550,140,270],[140,400,300,300],[440,500,200,200],[140,700,200,120],[340,700,300,120]],n=0;n<a.length;n++){var o=a[n][0]/640*e,i=a[n][1]/820*t,r=a[n][2]/640*e,s=a[n][3]/820*t,l=Math.floor(2*Math.random()),c=n+1,g=".pic-"+c,d=".pic-"+c+"-bg";$("#bg-img").append('<div class="pic-img pic-'+c+'-bg"><div class="lazyload pic-'+c+'" data-src="./img/hero/pic-'+c+'.png"></div></div>'),TweenMax.to(d,l,{x:o,y:i,width:r,height:s,transformOrigin:"50% 50%"}),TweenMax.to(g,l,{width:r,height:s,transformOrigin:"50% 50%"})}var p=$("#bg-img").height()/250;TweenMax.set("#bg-img",{scale:p})}e();var t=new TimelineMax({repeat:-1,repeatDelay:1}),a=$(".pic-img").toArray();a.sort(function(){return.5-Math.random()}),$(a).each(function(e){var a=$(this);Math.floor(2*Math.random());t.add(TweenMax.staggerTo(a.find(".lazyload"),.5*Math.random()+.2,{ease:Quad.easeInOut,scale:1.2,opacity:1},.5*Math.random()+.2)),t.add(TweenMax.staggerTo(a.find(".lazyload"),.5*Math.random()+.2,{ease:Quad.easeInOut,delay:1,scale:1,opacity:.5}))}),$(window).resize(function(){e()}),new ScrollMagic.Scene({triggerElement:".hero",triggerHook:.5}).reverse(!1).setTween(t).addTo(controller)}),$(function(){var e=navigator.userAgent.toLowerCase();e.indexOf("edge")>-1||e.indexOf("trident")>-1?($("img.lazyload").each(function(){$(this).attr("src",$(this).data("src"))}),$(".lazyload").not("img").each(function(){$(this).css("background-image",'url("'+$(this).data("src")+'")')})):lazyload();var t=$("#interview-popup");$("#popup-open").on("click",function(){t.fadeIn(400,function(){t.find("video")[0].play()})}),$("#popup-close").on("click",function(){t.fadeOut(400,function(){t.find("video")[0].pause()})});var a=$(".section-sns"),n=a.find(".section-sns-list a"),o=n.width();a.on("mouseenter mouseleave",function(e){var t=$(this).parent().hasClass("s-sense-body")?"down":$(this).parent(".sense-top-video").hasClass("layout-left")?"left":"right",a=$(this).find(".section-sns-list a");"mouseenter"===e.type?"down"===t?TweenMax.staggerTo(a,.4,{overwrite:1,opacity:1,cycle:{y:function(e){return o*(a.length-e)+10}}},.2):TweenMax.staggerTo(a,.4,{overwrite:1,cycle:{x:function(e){switch(t){case"left":return o*(a.length-e);case"right":return-o*(a.length-e)}}}},.2):"down"===t?TweenMax.staggerTo(a.get().reverse(),.4,{overwrite:1,y:0,opacity:0},.2):TweenMax.staggerTo(a.get().reverse(),.4,{overwrite:1,x:0},.2)}),n.on("click",function(e){e.preventDefault();var t=$(this),a=t.closest(".hash-section").attr("id"),n=t.attr("class"),o=$('meta[property="og:url"]').attr("content")+"#"+a;fnSendSns(n,o)});var i=0;$("#localizing .btn").click(function(){var e=$(this);i++%2==0?(e.prev(".hide-content").addClass("active"),e.addClass("close")):(e.prev(".hide-content").removeClass("active"),e.removeClass("close"))});var r=0;$("#professor .btn").click(function(){r++%2==0?($("#qna").addClass("active"),$("#professor .btn-circle").addClass("close")):($("#qna").removeClass("active"),$("#professor .btn-circle").removeClass("close"))}),$(".video-play .play").on("click",function(e){e.preventDefault(),$(this).hide().next("video")[0].play()})});var controller=new ScrollMagic.Controller;$(function(){initScrollMagic()}),$(function(){$("#roof").height(),$(".s-sense-body").find(".original");var e=new Swiper("#infoSwiper",{spaceBetween:100,fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination",type:"bullets"}});e.on("slideChange",function(){0!=e.activeIndex?$(".swiper-pagination").addClass("enable"):$(".swiper-pagination").removeClass("enable")});new Swiper(".contribute",{speed:400,spaceBetween:100,autoplay:!0,pagination:{el:".swiper-pagination",type:"bullets"}})}),$(function(){$("#video-intro").find("video").attr({src:"http://cf.c.ooyala.com/U4cGJuZDE6UuOhe6PpnMz---HJoFAnPj/DOcJ-FxaFrRg4gtDEwOmw3OjBrO9xAJa",controls:!1,controlsList:"nodownload",preload:"auto",loop:!1,poster:""}),$("#video-fighter").find("video").attr({src:"http://cf.c.ooyala.com/o5bXdtZDE6Z-nWtRBIGp6ot3zDGpTbNW/DOcJ-FxaFrRg4gtDEwOmw3OjBrO9xAJa",controls:!1,controlsList:"nodownload",preload:"auto",loop:!1,poster:""}),$("#video-dancer").find("video").attr({src:"http://cf.c.ooyala.com/FsaXdtZDE6R_f1figA6Wb76LmLwbrS0f/DOcJ-FxaFrRg4gtDEwOmw3OjBrO9xAJa",controls:!1,controlsList:"nodownload",preload:"metadata",loop:!1,poster:""}),$("#video-barista").find("video").attr({src:"http://cf.c.ooyala.com/U5aXdtZDE6CHLvKpez8ARxsyHm0HAe_r/DOcJ-FxaFrRg4gtDEwOmw3OjBrO9xAJa",controls:!1,controlsList:"nodownload",preload:"metadata",loop:!1,poster:""}),$("#video-more").find("video").attr({src:"http://cf.c.ooyala.com/Z3aHdtZDE6BrkxscCuRM8SYspuClX464/DOcJ-FxaFrRg4gtDEwOmw3OjBrO9xAJa",controls:!1,controlsList:"nodownload",preload:"metadata",loop:!1,poster:""})});
//# sourceMappingURL=script.js.map
